{% extends "base_generic.html" %}

{% block script %}
    var lastNotification = "1";
{% endblock %}

{% block include_header %}

<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css">
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
<script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/moment.js/2.7.0/moment.min.js" type="text/javascript"></script>

{% endblock %}

{% block css %}
<style>
    .card{
        margin: auto;
        margin-bottom:3%;
        margin-top:3%;
    }
</style>
{% endblock %}

{% block content %}
<div class="container">
    <div id = "notf_list">
        {% if not notifications %}
            <h4>No notifications</h4>
        {% else %}
            {% for x in notifications %}
                {% if forloop.counter|divisibleby:2  == 0 %}
                    <div class="card text-white bg-dark mb-3" style="width: 80%;">
                {% else %}    
                    <div class="card bg-light mb-3" style="width: 80%;">
                {% endif %}
                    <div class="card-header">
                        {% if x.name %}
                            Notification for <b>{{x.name}}</b>
                        {% else %}
                            Notification for <b>{{notfLocationName}}</b>
                        {% endif %}
                    </div>
                    <div class="card-body">
                      <h5 class="card-title">{{x.message}}</h5>
                      <p class="card-text">{{x.date}}</p>
                    </div>
                  </div>
            {% endfor %}
            <script>
                lastNotification = "{{ notifications.0.date }}";
            </script>
        
        {% endif %}
    </div>
</div>
{% endblock %}